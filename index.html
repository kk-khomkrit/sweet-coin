<!DOCTYPE html>
<html lang="th">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9991953761747047"
     crossorigin="anonymous"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart Coin</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #121212;
      color: #e0e0e0;
      min-height: 100vh;
    }

    /* Login page container */
    .login-container {
      width: 100%;
      max-width: 400px;
      background-color: #1e1e1e;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      margin: 50px auto;
    }

    /* Dashboard page container */
    .dashboard-container {
      width: 100%;
      min-height: 100vh;
      background-color: #121212;
    }

    h2 {
      margin-top: 0;
      text-align: center;
      color: #4CAF50;
      padding: 10px 0;
    }

    input[type="text"], button {
      width: 100%;
      padding: 12px;
      margin-top: 12px;
      font-size: 16px;
      border-radius: 8px;
      box-sizing: border-box;
    }

    input[type="text"] {
      background-color: #2a2a2a;
      border: 2px solid #388E3C;
      color: #e0e0e0;
      outline: none;
    }

    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background-color: #388E3C;
    }

    .hidden {
      display: none;
    }

    #login-error {
      margin-top: 10px;
      color: #f44336;
      text-align: center;
    }

    /* Header styling */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background-color: #1e1e1e;
      border-bottom: 1px solid #333;
    }

    .header-left {
      font-size: 1.5rem;
      font-weight: bold;
      color: #4CAF50;
    }

    .header-right {
      display: flex;
      gap: 10px;
    }

    .header-button {
      background-color: #333;
      color: white;
      border: none;
      padding: 8px 30px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.3s ease;
    }

    .header-button:hover {
      background-color: #4CAF50;
    }

    .highlighted {
      border: 2px solid red;
      font-weight: bold;
    }

    /* Content styling */
    .dashboard-content {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .card-container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }

    .card {
      background-color: #2a2a2a;
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      border: 1px solid #333;
    }

    .card-title {
      font-size: 18px;
      margin-bottom: 4px;
      font-weight: 600;
      color: #A5D6A7;
    }

    .card-value {
      font-size: 20px;
      margin: 4px 0;
      font-weight: bold;
      color: #4CAF50;
    }

    .unit {
      font-size: 12px;
      color: #81C784;
    }

    .recommendation-box {
      background-color: #2a2a2a;
      padding: 16px;
      border-radius: 12px;
      margin-top: 16px;
      border: 1px solid #333;
    }

    .recommendation-title {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: #4CAF50;
      font-weight: bold;
    }

    .main-ad-container {
      margin-top: 20px;
      background-color: #2a2a2a;
      border: 1px solid #333;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      min-height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .main-ad-content {
      color: #aaa;
      font-size: 20px;
    }

    .bottom-ads {
      display: flex;
      justify-content: space-between;
      gap: 15px;
      margin-top: 20px;
    }

    .ad-box {
      flex: 1;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 15px;
      text-align: center;
      border: 1px solid #333;
      color: #aaa;
    }

    .action-buttons {
      display: grid;
      grid-template-columns: repeat(1, 1fr);
      gap: 15px;
      margin-top: 20px;
      
    }
    .signout {
        background-color: red;
    }

    .footer {
      background-color: #1e1e1e;
      padding: 15px;
      text-align: center;
      border-top: 1px solid #333;
      color: #888;
      position: sticky;
      bottom: 0;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .header {
        flex-direction: column;
        gap: 10px;
        padding: 10px;
      }
      
      .header-right {
        width: 100%;
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .dashboard-content {
        padding: 10px;
      }
    }

    @media (max-width: 600px) {
      .card-container {
        grid-template-columns: 1fr;
      }
      
      .action-buttons {
        grid-template-columns: 1fr;
      }
      
      .bottom-ads {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

  <!-- Login Page -->
  <div id="login-page" class="login-container">
    <h2>Sweet Coin</h2>
    <input type="text" id="userid-input" placeholder="กรอก User ID" />
    <button onclick="login()">เข้าสู่ระบบ</button>
    <p id="login-error"></p>
  </div>

  <!-- Dashboard Page (Fullscreen) -->
  <div id="ads-page" class="hidden dashboard-container">
    <div class="header">
      <div class="header-left">Sweet Coin, <span id="user-id"></span></div>
      <div class="header-right">

        <button class="header-button highlighted" onclick="logout()">ออกจากระบบ</button>
      </div>
    </div>

    <div class="dashboard-content">
      <div class="card-container">
        <div class="card">
          <div class="card-title">รายได้วันนี้</div>
          <div class="card-value" id="today-earn">0</div>
        
        </div>
        <div class="card">
          <div class="card-title">รายได้เดือนนี้</div>
          <div class="card-value" id="month-earn">0</div>
        
        </div>
        <div class="card">
          <div class="card-title">ยอดรวม</div>
          <div class="card-value" id="total-earn">0</div>
       
        </div>
      </div>
 <div class="recommendation-box">
        <div class="recommendation-title">อัปเดตใหม่! [1.0.0]</div>
        <p>-</p>
      </div>
      <div class="recommendation-box">
        <div class="recommendation-title">คำแนะนำ</div>
        <p>หากต้องการรายได้ที่มากขึ้น โปรดให้คนที่สมัครระบุโค้ดเชิญเพื่อนของคุณ</p>
      </div>

      <div class="main-ad-container">
        <div class="main-ad-content">พื้นที่สำหรับโฆษณาหลัก</div>
      </div>

    

    
    </div>

    <div class="footer">
      Smart Coin © 2025 - All Rights Reserved
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
    import { getDatabase, ref, get, set } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyA-S3Jhk-7OoeE9x315txFePtkWfG2ChmE",
      authDomain: "sweet-coin-8bd57.firebaseapp.com",
      projectId: "sweet-coin-8bd57",
      storageBucket: "sweet-coin-8bd57.appspot.com",
      messagingSenderId: "574118301665",
      appId: "1:574118301665:web:181615c12ffe961706cca0",
      measurementId: "G-1LVQD1WSR5",
      databaseURL: "https://sweet-coin-8bd57-default-rtdb.asia-southeast1.firebasedatabase.app"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    let currentUserID = "";

    async function login() {
      const inputID = document.getElementById("userid-input").value.trim();
      if (!inputID) return;

      const snapshot = await get(ref(db, "users/" + inputID));
      if (snapshot.exists()) {
        currentUserID = inputID;
        document.getElementById("login-page").classList.add("hidden");
        document.getElementById("ads-page").classList.remove("hidden");
        document.getElementById("user-id").textContent = currentUserID;
        loadEarnings();
      } else {
        document.getElementById("login-error").textContent = "User ID ไม่ถูกต้อง";
      }
    }

    async function watchAd() {
      const reward = parseFloat((Math.random() * (0.01 - 0.001) + 0.001).toFixed(3));
      const now = new Date();
      const dateStr = now.toISOString().split("T")[0];
      const monthStr = dateStr.slice(0, 7);

      const userRef = ref(db, "users/" + currentUserID);
      const snapshot = await get(userRef);
      let data = snapshot.exists() ? snapshot.val() : {};

      data.total = (data.total || 0) + reward;
      data.daily = data.daily || {};
      data.daily[dateStr] = (data.daily[dateStr] || 0) + reward;
      data.monthly = data.monthly || {};
      data.monthly[monthStr] = (data.monthly[monthStr] || 0) + reward;

      await set(userRef, data);
      loadEarnings();
      alert("ได้รับ " + reward.toFixed(3) + " Coin");
    }

    function logout() {
      currentUserID = "";
      document.getElementById("login-page").classList.remove("hidden");
      document.getElementById("ads-page").classList.add("hidden");
      document.getElementById("userid-input").value = "";
      document.getElementById("login-error").textContent = "";
    }

    async function loadEarnings() {
      const now = new Date();
      const dateStr = now.toISOString().split("T")[0];
      const monthStr = dateStr.slice(0, 7);

      const snapshot = await get(ref(db, "users/" + currentUserID));
      const data = snapshot.exists() ? snapshot.val() : {};
document.getElementById("today-earn").textContent = (data.daily?.[dateStr] || 0).toFixed(3) + " ฿";
document.getElementById("month-earn").textContent = (data.monthly?.[monthStr] || 0).toFixed(3) + " ฿";
document.getElementById("total-earn").textContent = (data.total || 0).toFixed(3) + " ฿";
    }

    window.login = login;
    window.watchAd = watchAd;
    window.logout = logout;
  </script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9991953761747047"
     crossorigin="anonymous"></script>
<!-- bigads -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9991953761747047"
     data-ad-slot="9570928754"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9991953761747047"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-gw-3+1f-3d+2z"
     data-ad-client="ca-pub-9991953761747047"
     data-ad-slot="8934711921"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</body>
</html>
